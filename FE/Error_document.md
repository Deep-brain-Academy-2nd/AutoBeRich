# 에러 상황 정의

## 로그인 시

비밀번호가 틀렸을 때, 아이디가 없을 때 (둘다 400으로 메시지 적어서 처리)

| Code | Type | Description                            | message                             |
| ---- | ---- | -------------------------------------- | ----------------------------------- |
| 200  | 성공 |                                        | success                             |
| 400  | 실패 | 헤딩 이메일 주소 없음, 비밀번호 불일치 | don't have dbs , password incorrect |
| 500  | 실패 | DB 조회 실패, 각종 서버에러            | fail get db infos, server error     |

```json
{
	"status": "failure",
	"code": 400,
	"msg": "incorrect password"
}
```

## 로그아웃 시

로그인은 바로 처리가능 근데 토큰을 이용한다면 세션도 끊어 줘야해서 따로 처리가 필요할듯(현재는 미처리로 진행)

## 회원가입 시

- 이미 가입된 아이디가 있을때, 가입하는 회원 정보의 유효성 실패 (전부 400 처리로 메시지 처리)
- DB 조회 실패로 못가져왔을시 (500)

| Code | Type | Description                                                   | message                              |
| ---- | ---- | ------------------------------------------------------------- | ------------------------------------ |
| 200  | 성공 |                                                               | success                              |
| 400  | 실패 | 이미 가입된 아이디가 있을때, 가입하는 회원 정보의 유효성 실패 | already signup, info validity failed |
| 500  | 실패 | DB 조회 실패, 각종 서버에러                                   | fail get db infos, server error      |

## 개인 계좌 정보 호출 시

- 로그인 정보가 없어서 계좌를 가져올 수 없을때 (400 에러, 메시지로 처리)
- 계좌 정보 불러오기 실패시 (500 에러)
- 클라이언트 alert으로 선 처리 가능

| Code | Type | Description                                                            | message             |
| ---- | ---- | ---------------------------------------------------------------------- | ------------------- |
| 200  | 성공 |                                                                        | success             |
| 400  | 실패 | 로그인 정보가 없어서 계좌를 가져올 수 없을때 (400 에러, 메시지로 처리) | not have login info |
| 500  | 실패 | 각종 서버에러                                                          | server error        |

## 전략 변경 api 호출 시

- 이미 선택한 전략일시 (400)
- req의 변경할 정보가 유효하지 않을 때 (400, 메시지 처리)
- server error 발생시 (500)

| Code | Type | Description                                            | message                                  |
| ---- | ---- | ------------------------------------------------------ | ---------------------------------------- |
| 200  | 성공 |                                                        | success                                  |
| 400  | 실패 | 이미 선택한 전략, req의 변경할 정보가 유효하지 않을 때 | already select strategy, Validity failed |
| 500  | 실패 | 각종 서버에러                                          | server error                             |

## 자동매매 상태 변경 api 호출 시

- 이미 동작하고 있을 시, 이미 중지된 상태일시 (400)
- 자동 매매 함수 호출 실패시 (500)
- server error 발생시 (500)

| Code | Type | Description                                 | message                                      |
| ---- | ---- | ------------------------------------------- | -------------------------------------------- |
| 200  | 성공 |                                             | success                                      |
| 400  | 실패 | 이미 동작하고 있을 시, 이미 중지된 상태일시 | already 택 1(start)(stop) auto trading       |
| 500  | 실패 | 각종 서버에러, 자동 매매 함수 호출 실패     | server error, To call auto trading fn failed |

## 참고 문서

[HTTP 에러코드](https://sanghaklee.tistory.com/61)
